{"is_source_file": true, "format": "JavaScript", "description": "This file serves as an API client module for a frontend application, providing functions for creating and fetching evaluations, handling API requests with normalization of errors, and configuration utilities related to API usage.", "external_files": ["fetch API (built-in)", "environment variables via process.env"], "external_methods": ["fetch", "encodeURIComponent"], "published": ["createEvaluation", "getEvaluationById", "getMaxUploadMb", "getAllowedMimeTypes", "getBaseUrl"], "classes": [], "methods": [{"name": "makeError(status = 0, message = 'Unexpected error', details)", "description": "Creates a normalized error object with status, message, and optional details.", "scope": "", "scopeKind": ""}, {"name": "apiFetch(path, options = {}, timeoutMs = DEFAULT_TIMEOUT_MS)", "description": "A wrapper around the fetch API that adds timeout, error normalization, and safe JSON parsing.", "scope": "", "scopeKind": ""}, {"name": "createEvaluation(formData)", "description": "Uploads a document for evaluation, expects form data with file, title, and notes.", "scope": "", "scopeKind": ""}, {"name": "getEvaluationById(evaluationId)", "description": "Fetches a specific evaluation by its ID.", "scope": "", "scopeKind": ""}, {"name": "getMaxUploadMb()", "description": "Returns the maximum upload size in MB, configurable via environment variable.", "scope": "", "scopeKind": ""}, {"name": "getAllowedMimeTypes()", "description": "Returns an array of allowed MIME types for uploads, defaulting to PDF.", "scope": "", "scopeKind": ""}, {"name": "getBaseUrl()", "description": "Returns the base URL used by the API client, either from environment or window location.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "encodeURIComponent"], "search-terms": ["client.js", "Evaluation API", "fetch wrapper", "API error normalization", "React environment configuration", "evaluation creation", "evaluation retrieval", "upload size limit", "PDF MIME types"], "state": 2, "file_id": 13, "knowledge_revision": 39, "git_revision": "2b2d954ab0a001107d4f25806e0628abc8c06fe6", "revision_history": [{"27": ""}, {"39": "2b2d954ab0a001107d4f25806e0628abc8c06fe6"}], "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_API_BASE_URL || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_TIMEOUT_MS", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^const DEFAULT_TIMEOUT_MS = 15000;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiFetch", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^async function apiFetch(path, options = {}, timeoutMs = DEFAULT_TIMEOUT_MS) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {}, timeoutMs = DEFAULT_TIMEOUT_MS)"}, {"_type": "tag", "name": "createEvaluation", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^export async function createEvaluation(formData) {$/", "language": "JavaScript", "kind": "function", "signature": "(formData)"}, {"_type": "tag", "name": "getAllowedMimeTypes", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^export function getAllowedMimeTypes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getBaseUrl", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^export function getBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getEvaluationById", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^export async function getEvaluationById(evaluationId) {$/", "language": "JavaScript", "kind": "function", "signature": "(evaluationId)"}, {"_type": "tag", "name": "getMaxUploadMb", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^export function getMaxUploadMb() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "makeError", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^function makeError(status = 0, message = 'Unexpected error', details) {$/", "language": "JavaScript", "kind": "function", "signature": "(status = 0, message = 'Unexpected error', details)"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^      payload = { message: text };$/", "language": "JavaScript", "kind": "property", "scope": "apiFetch.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/financial-document-evaluation-platform-221929-221939/financial_evaluation_frontend/src/api/client.js", "pattern": "/^      payload = { message: text };$/", "language": "JavaScript", "kind": "class", "scope": "apiFetch", "scopeKind": "class"}], "hash": "b1aba2e93c655728b7b7cbf31202be63", "format-version": 4, "code-base-name": "financial_evaluation_frontend", "filename": "financial_evaluation_frontend/src/api/client.js", "fields": [{"name": "payload = { message: text };", "scope": "apiFetch.payload", "scopeKind": "class", "description": "unavailable"}]}